{"version":3,"sources":["uni-app:///main.js","webpack:///D:/HongLongApp/pages/cashCabinet/index.vue?40ac","webpack:///D:/HongLongApp/pages/cashCabinet/index.vue?2791","webpack:///D:/HongLongApp/pages/cashCabinet/index.vue?6a71","webpack:///D:/HongLongApp/pages/cashCabinet/index.vue?581a","uni-app:///pages/cashCabinet/index.vue","webpack:///D:/HongLongApp/pages/cashCabinet/index.vue?64d2","webpack:///D:/HongLongApp/pages/cashCabinet/index.vue?f895"],"names":["wx","__webpack_require_UNI_MP_PLUGIN__","__webpack_require__","createPage","Page","renderjs","component","options","__file","components","uniPopup","uniEasyinput","qiunDataCharts","uniBadge","e","message","indexOf","console","error","render","_vm","this","_h","$createElement","l0","_self","_c","__map","busTerminalList","item","index","$orig","__get_orig","g0","isShowNoData","checkboxDetail","findIndex","detail","busTerminalId","g1","length","g2","$mp","data","Object","assign","$root","recyclableRender","staticRenderFns","_withStripped","pupopType","searchValue","isShowPopup","legendShape","opts","timing","color","padding","enableScroll","extra","pie","activeOpacity","activeRadius","offsetAngle","labelWidth","border","borderWidth","borderColor","tooltip","legend","position","lineHeight","float","chartCurrentIndex","boxCountList","onLoad","uni","frontColor","backgroundColor","animation","duration","timingFunc","onPullDownRefresh","methods","checked","boxSumDetails","icon","title","boxDetails","popupChange","chartsClick","getBoxCountGroupByTerminalAndType","organizationUnitIds","getControlTerminalGroupByBusTerminal","series","fullBoxCount","emptyBoxCount","emptyCellCount","hitchCount","callBack","cardClick","url","currentTarget","pullDownRefresh"],"mappings":"kJAAA,MAGA,aACA,YAFAA,EAAGC,kCAAoCC,EAGvCC,EAAWC,a,gFCLX,2IACIC,EADJ,QAUIC,EAAY,qBACd,aACA,YACA,sBACA,EACA,KACA,WACA,MACA,EACA,gBACAD,GAGFC,EAAUC,QAAQC,OAAS,8BACZ,aAAAF,E,0CCxBf,uQ,iCCAA,IAAIG,EAAJ,0LACA,IACEA,EAAa,CACXC,SAAU,WACR,OAAO,oFAITC,aAAc,WACZ,OAAO,gGAITC,eAAgB,WACd,OAAO,6IAITC,SAAU,WACR,OAAO,qFAKX,MAAOC,GACP,IAC+C,IAA7CA,EAAEC,QAAQC,QAAQ,wBACa,IAA/BF,EAAEC,QAAQC,QAAQ,QAWlB,MAAMF,EATNG,QAAQC,MAAMJ,EAAEC,SAChBE,QAAQC,MAAM,mBACdD,QAAQC,MACN,uFAEFD,QAAQC,MACN,mDAMN,IAAIC,EAAS,WACX,IAAIC,EAAMC,KACNC,EAAKF,EAAIG,eAETC,GADKJ,EAAIK,MAAMC,GACVN,EAAIO,MAAMP,EAAIQ,iBAAiB,SAAUC,EAAMC,GACtD,IAAIC,EAAQX,EAAIY,WAAWH,GACvBI,EAAMb,EAAIc,aAIV,KAHAd,EAAIe,eAAeC,WAAU,SAAUC,GACrC,OAAOA,GAAUR,EAAKS,iBAG5B,MAAO,CACLP,MAAOA,EACPE,GAAIA,OAGJM,EAAMnB,EAAIc,aAA2C,KAA5Bd,EAAIe,eAAeK,OAC5CC,EAAMrB,EAAIc,aAA2C,KAA5Bd,EAAIe,eAAeK,OAChDpB,EAAIsB,IAAIC,KAAOC,OAAOC,OACpB,GACA,CACEC,MAAO,CACLtB,GAAIA,EACJe,GAAIA,EACJE,GAAIA,MAKRM,GAAmB,EACnBC,EAAkB,GACtB7B,EAAO8B,eAAgB,G,iCCxEvB,yHAAmmB,eAAG,G,gHCuDtmB,Y,EAIA,CACAN,gBACA,OAEAO,aAEAhB,gBAEAC,kBAEAgB,eAEAC,eACAxB,mBAEAyB,mBACAC,MACAC,iBACAC,0DACAC,kBACAC,gBACAC,OACAC,KACAC,iBACAC,gBACAC,cACAC,cACAC,UACAC,cACAC,uBAEAC,SACAf,+BAIAgB,QACAC,gBACAC,cACAC,iBAGAC,qBACAC,kBAGAC,kBACA1D,sBACA2D,yBACAC,qBACAC,0BACAC,WACAC,aACAC,wBAIA,6CAEAC,6BACA,wBAEAC,SACAC,oBACAnE,eAGA,iDACA,4FAEA,8CAGAoE,yBACA,6BACA,iBACA,0BAEA,wBACA,yBACA,oEAGAT,aACAU,YACAC,mBAIAC,uBACAvE,eACA,uDACA,wBACA,6DAGAwE,wBACA,yBAEAC,wBACAzE,eAEA,kBACA,sCACA,iBACA,qCAEA,2BAGA0E,8CAAA,WACA,KACA,+BACA,IACAC,oCAGA,6CACA,oBACA,sBACA,kBACA,kBACA3E,eACA,wBACA,yBAGA4E,iDAAA,WACA,KACA,+BACA,IACAD,oCAGA,gDACA,aACA,YACA,oBACA,sBACA,+BACA,kBAEA,GADA3E,eACA,GACA,iCAGA,kBACA,4CACA,kCAEA,OACA6E,SACAnD,OACA,yBACA,0BACA,gBACA,UACA,qCACAoD,aACA,wCACA,qCACAA,aACA,cAEA,CACA,yBACA,0BACA,gBACA,UACA,qCACAC,cACA,yCACA,qCACAA,cACA,cAEA,CACA,yBACA,0BACA,gBACA,UACA,qCACAC,eACA,0CACA,qCACAA,eACA,cAEA,CACA,yBACA,0BACA,gBACA,UACA,qCACAC,WACA,sCACA,qCACAA,WACA,kBAMA,iCACAjF,eAGAA,+BACA,6BACA,mBAKA,sBACAkF,QAGAC,sCACAnF,eACAA,mCAGA2D,cACAyB,0EACAC,0EAAA,SACAhE,wCAAA,oBAIAiE,2BACAtF,qBAEA2D,6BACA,0EAGA,c,6DCzSA,yHAA0pC,eAAG,G,uDCA7pC,yHAAkoC,eAAG,G","file":"pages/cashCabinet/index.js","sourcesContent":["import 'uni-pages';\n// @ts-ignore\nwx.__webpack_require_UNI_MP_PLUGIN__ = __webpack_require__;\nimport Vue from 'vue'\nimport Page from './pages/cashCabinet/index.vue'\ncreatePage(Page)","import { render, staticRenderFns, recyclableRender, components } from \"./index.vue?vue&type=template&id=b5254282&scoped=true&\"\nvar renderjs\nimport script from \"./index.vue?vue&type=script&lang=js&\"\nexport * from \"./index.vue?vue&type=script&lang=js&\"\nimport style0 from \"./index.vue?vue&type=style&index=0&id=b5254282&scoped=true&lang=scss&\"\nimport style1 from \"./index.vue?vue&type=style&index=1&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"b5254282\",\n  null,\n  false,\n  components,\n  renderjs\n)\n\ncomponent.options.__file = \"pages/cashCabinet/index.vue\"\nexport default component.exports","export * from \"-!../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--17-0!../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/template.js!../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-uni-app-loader/page-meta.js!../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./index.vue?vue&type=template&id=b5254282&scoped=true&\"","var components\ntry {\n  components = {\n    uniPopup: function () {\n      return import(\n        /* webpackChunkName: \"uni_modules/uni-popup/components/uni-popup/uni-popup\" */ \"@/uni_modules/uni-popup/components/uni-popup/uni-popup.vue\"\n      )\n    },\n    uniEasyinput: function () {\n      return import(\n        /* webpackChunkName: \"uni_modules/uni-easyinput/components/uni-easyinput/uni-easyinput\" */ \"@/uni_modules/uni-easyinput/components/uni-easyinput/uni-easyinput.vue\"\n      )\n    },\n    qiunDataCharts: function () {\n      return import(\n        /* webpackChunkName: \"uni_modules/qiun-data-charts/components/qiun-data-charts/qiun-data-charts\" */ \"@/uni_modules/qiun-data-charts/components/qiun-data-charts/qiun-data-charts.vue\"\n      )\n    },\n    uniBadge: function () {\n      return import(\n        /* webpackChunkName: \"uni_modules/uni-badge/components/uni-badge/uni-badge\" */ \"@/uni_modules/uni-badge/components/uni-badge/uni-badge.vue\"\n      )\n    },\n  }\n} catch (e) {\n  if (\n    e.message.indexOf(\"Cannot find module\") !== -1 &&\n    e.message.indexOf(\".vue\") !== -1\n  ) {\n    console.error(e.message)\n    console.error(\"1. 排查组件名称拼写是否正确\")\n    console.error(\n      \"2. 排查组件是否符合 easycom 规范，文档：https://uniapp.dcloud.net.cn/collocation/pages?id=easycom\"\n    )\n    console.error(\n      \"3. 若组件不符合 easycom 规范，需手动引入，并在 components 中注册该组件\"\n    )\n  } else {\n    throw e\n  }\n}\nvar render = function () {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n  var l0 = _vm.__map(_vm.busTerminalList, function (item, index) {\n    var $orig = _vm.__get_orig(item)\n    var g0 = !_vm.isShowNoData\n      ? _vm.checkboxDetail.findIndex(function (detail) {\n          return detail == item.busTerminalId\n        })\n      : null\n    return {\n      $orig: $orig,\n      g0: g0,\n    }\n  })\n  var g1 = !_vm.isShowNoData ? _vm.checkboxDetail.length : null\n  var g2 = !_vm.isShowNoData ? _vm.checkboxDetail.length : null\n  _vm.$mp.data = Object.assign(\n    {},\n    {\n      $root: {\n        l0: l0,\n        g1: g1,\n        g2: g2,\n      },\n    }\n  )\n}\nvar recyclableRender = false\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns, recyclableRender, components }","import mod from \"-!../../../HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--13-1!../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./index.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--13-1!../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./index.vue?vue&type=script&lang=js&\"","<template>\r\n\t<page-meta\r\n\t\t:page-style=\"'overflow:'+(isShowPopup ? 'hidden' : 'visible') + ';' + (!isShowNoData ? '' : 'height:100%')\">\r\n\t</page-meta>\r\n\t<view class=\"content\">\r\n\t\t<uni-popup ref=\"popup\" :class=\"{'dialogPopup' : pupopType == 'dialog'}\" :type=\"pupopType\" @change=\"popupChange\">\r\n\t\t\t<view class=\"popup-content\" :style=\"'padding-bottom:' + (pupopType == 'bottom' ? '120rpx' : '')\">\r\n\t\t\t\t<text class=\"popup-title\" :style=\"'color:' + (chartCurrentIndex == 0 ? '#B22222' : '#9ACD32')\">\r\n\t\t\t\t\t{{ (chartCurrentIndex == 0 ? '满胆' : '空胆') + '详情' }}\r\n\t\t\t\t</text>\r\n\t\t\t\t<text v-for=\"(item, index) in boxCountList\" :key=\"index\">\r\n\t\t\t\t\t{{ item.productModel + '内胆:' + (chartCurrentIndex == 0 ? item.fullBoxCount : item.emptyBoxCount) }}\r\n\t\t\t\t</text>\r\n\t\t\t</view>\r\n\t\t</uni-popup>\r\n\r\n\t\t<uni-easyinput prefixIcon=\"search\" v-model=\"searchValue\" placeholder=\"按场站名搜索\" :inputBorder=\"true\"\r\n\t\t\t@change=\"getControlTerminalGroupByBusTerminal\">\r\n\t\t</uni-easyinput>\r\n\r\n\t\t<view v-if=\"!isShowNoData\" v-for=\"(item, index) in busTerminalList\" :key=\"index\" class=\"busTerminalInfo\">\r\n\t\t\t<view class=\"title\">\r\n\t\t\t\t<label :id=\"item.busTerminalId\" class=\"stationName\"\r\n\t\t\t\t\t:class=\"checkboxDetail.findIndex((detail) => detail == item.busTerminalId) > -1 ? 'checked' : 'unChecked'\"\r\n\t\t\t\t\t@click=\"checked\">\r\n\t\t\t\t\t<image></image>\r\n\t\t\t\t\t{{ (item.stationName ? item.stationName : '未分组') }}\r\n\t\t\t\t</label>\r\n\t\t\t\t<text class=\"cabinetInfo\">{{ '主控柜:' + item.terminalCount + \r\n\t\t\t\t\t\t\t\t\t\t\t '\\t内胆柜:' + item.boxCabinetCount + \r\n\t\t\t\t\t\t\t\t\t\t\t '\\t电子钥匙:' + item.keyCount}}\r\n\t\t\t\t</text>\r\n\t\t\t\t<text :id=\"item.busTerminalId\" class=\"detailBtn\" @click=\"cardClick\">查看详情 ></text>\r\n\t\t\t</view>\r\n\r\n\t\t\t<view :id=\"item.busTerminalId\" class=\"chart\" @click=\"boxDetails\">\r\n\t\t\t\t<qiun-data-charts type=\"pie\" :opts=\"opts\" :tapLegend=\"false\" :canvas2d=\"true\" :loadingType=\"3\"\r\n\t\t\t\t\t:chartData=\"item.chartData\" @getIndex=\"chartsClick\" />\r\n\t\t\t</view>\r\n\t\t</view>\r\n\r\n\t\t<button v-if=\"!isShowNoData\" class=\"sumBtn\" :class=\"{'sumBtnAvailable': checkboxDetail.length > 1}\"\r\n\t\t\t:style=\"'z-index:' + (pupopType == 'bottom' ? '99' : '9')\" @click=\"boxSumDetails\">\r\n\t\t\t<uni-badge class=\"badge\" :text=\"checkboxDetail.length\" size=\"normal\">\r\n\t\t\t</uni-badge>\r\n\t\t\t查看汇总\r\n\t\t</button>\r\n\t\t<view v-else class=\"noData\">\r\n\t\t\t<image src=\"../../static/noData.png\" />\r\n\t\t\t<text>未查询到数据</text>\r\n\t\t</view>\r\n\t</view>\r\n</template>\r\n\r\n<script>\r\n\timport {\r\n\t\tStopPullDownRefreshStatus,\r\n\t\tThrottle\r\n\t} from '@/utils/tool.js'\r\n\texport default {\r\n\t\tdata() {\r\n\t\t\treturn {\r\n\t\t\t\t//popup弹出方式\r\n\t\t\t\tpupopType: '',\r\n\t\t\t\t//是否显示无数据\r\n\t\t\t\tisShowNoData: false,\r\n\t\t\t\t//记录选中的场站Id\r\n\t\t\t\tcheckboxDetail: [],\r\n\t\t\t\t//搜索的场站名\r\n\t\t\t\tsearchValue: '',\r\n\t\t\t\t//是否\r\n\t\t\t\tisShowPopup: false,\r\n\t\t\t\tbusTerminalList: [],\r\n\t\t\t\t//图列形状\r\n\t\t\t\tlegendShape: 'rect',\r\n\t\t\t\topts: {\r\n\t\t\t\t\ttiming: 'easeOut',\r\n\t\t\t\t\tcolor: ['#B22222', '#9ACD32', '#6495ED', '#D2691E', '#999999'],\r\n\t\t\t\t\tpadding: [5, 5, 5, 5],\r\n\t\t\t\t\tenableScroll: false,\r\n\t\t\t\t\textra: {\r\n\t\t\t\t\t\tpie: {\r\n\t\t\t\t\t\t\tactiveOpacity: 0.5,\r\n\t\t\t\t\t\t\tactiveRadius: 10,\r\n\t\t\t\t\t\t\toffsetAngle: 0,\r\n\t\t\t\t\t\t\tlabelWidth: 15,\r\n\t\t\t\t\t\t\tborder: true,\r\n\t\t\t\t\t\t\tborderWidth: 2,\r\n\t\t\t\t\t\t\tborderColor: '#FFFFFF'\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\ttooltip: {\r\n\t\t\t\t\t\t\tlegendShape: this.legendShape,\r\n\t\t\t\t\t\t\t//showBox: false\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t},\r\n\t\t\t\t\tlegend: {\r\n\t\t\t\t\t\tposition: 'left',\r\n\t\t\t\t\t\tlineHeight: 20,\r\n\t\t\t\t\t\tfloat: 'center'\r\n\t\t\t\t\t}\r\n\t\t\t\t},\r\n\t\t\t\tchartCurrentIndex: -1,\r\n\t\t\t\tboxCountList: []\r\n\t\t\t}\r\n\t\t},\r\n\t\tonLoad() {\r\n\t\t\tconsole.log('onLoad')\r\n\t\t\tuni.setNavigationBarColor({\r\n\t\t\t\tfrontColor: '#ffffff',\r\n\t\t\t\tbackgroundColor: '#003366',\r\n\t\t\t\tanimation: {\r\n\t\t\t\t\tduration: 3000,\r\n\t\t\t\t\ttimingFunc: \"easeOut\"\r\n\t\t\t\t}\r\n\t\t\t})\r\n\r\n\t\t\tthis.getControlTerminalGroupByBusTerminal()\r\n\t\t},\r\n\t\tonPullDownRefresh() {\r\n\t\t\tthis.pullDownRefresh()\r\n\t\t},\r\n\t\tmethods: {\r\n\t\t\tchecked(e) {\r\n\t\t\t\tconsole.log(e)\r\n\r\n\t\t\t\t//处理选中的场站集合\r\n\t\t\t\tif (this.checkboxDetail.includes(e.currentTarget.id)) {\r\n\t\t\t\t\tthis.checkboxDetail = this.checkboxDetail.filter((item) => item != e.currentTarget.id)\r\n\t\t\t\t} else {\r\n\t\t\t\t\tthis.checkboxDetail.push(e.currentTarget.id)\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\tboxSumDetails() {\r\n\t\t\t\tif (this.checkboxDetail.length > 1) {\r\n\t\t\t\t\tif (this.isShowPopup) {\r\n\t\t\t\t\t\tthis.$refs.popup.close()\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tthis.pupopType = 'bottom'\r\n\t\t\t\t\t\tthis.chartCurrentIndex = 0\r\n\t\t\t\t\t\tthis.getBoxCountGroupByTerminalAndType(this.checkboxDetail.join())\r\n\t\t\t\t\t}\r\n\t\t\t\t} else {\r\n\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\ticon: 'none',\r\n\t\t\t\t\t\ttitle: '至少选择两个项'\r\n\t\t\t\t\t})\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\tboxDetails(e) {\r\n\t\t\t\tconsole.log(e)\r\n\t\t\t\tif (this.chartCurrentIndex == 0 || this.chartCurrentIndex == 1) {\r\n\t\t\t\t\tthis.pupopType = 'dialog'\r\n\t\t\t\t\tthis.getBoxCountGroupByTerminalAndType(e.currentTarget.id)\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\tpopupChange(e) {\r\n\t\t\t\tthis.isShowPopup = e.show\r\n\t\t\t},\r\n\t\t\tchartsClick(e) {\r\n\t\t\t\tconsole.log(e)\r\n\r\n\t\t\t\tif (e.currentIndex >= 0) { //点击了饼图\r\n\t\t\t\t\tthis.chartCurrentIndex = e.currentIndex\r\n\t\t\t\t} else if (e.legendIndex >= 0) { //点击了图列\r\n\t\t\t\t\tthis.chartCurrentIndex = e.legendIndex\r\n\t\t\t\t} else {\r\n\t\t\t\t\tthis.chartCurrentIndex = -1\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\tgetBoxCountGroupByTerminalAndType(busTerminalIds) {\r\n\t\t\t\tvar organizationUnitIds = []\r\n\t\t\t\tvar userInfo = uni.getStorageSync('userInfo')\r\n\t\t\t\tif (userInfo) {\r\n\t\t\t\t\torganizationUnitIds = userInfo.currentUserOrganizationUnitIds\r\n\t\t\t\t}\r\n\r\n\t\t\t\tthis.$Api.GetBoxCountGroupByTerminalAndType({\r\n\t\t\t\t\t'TenantId': userInfo.tenantId,\r\n\t\t\t\t\t'OrganizationUnitIds': organizationUnitIds,\r\n\t\t\t\t\t'BusTerminalId': busTerminalIds\r\n\t\t\t\t}).then((res) => {\r\n\t\t\t\t\tconsole.log(res)\r\n\t\t\t\t\tthis.boxCountList = res.result\r\n\t\t\t\t\tthis.$refs.popup.open()\r\n\t\t\t\t})\r\n\t\t\t},\r\n\t\t\tgetControlTerminalGroupByBusTerminal(callBack) {\r\n\t\t\t\tvar organizationUnitIds = []\r\n\t\t\t\tvar userInfo = uni.getStorageSync('userInfo')\r\n\t\t\t\tif (userInfo) {\r\n\t\t\t\t\torganizationUnitIds = userInfo.currentUserOrganizationUnitIds\r\n\t\t\t\t}\r\n\r\n\t\t\t\tthis.$Api.GetControlTerminalGroupByBusTerminal({\r\n\t\t\t\t\t'PageNumber': 1,\r\n\t\t\t\t\t'PageSize': 99,\r\n\t\t\t\t\t'TenantId': userInfo.tenantId,\r\n\t\t\t\t\t'OrganizationUnitIds': organizationUnitIds,\r\n\t\t\t\t\t'StationName': this.searchValue\r\n\t\t\t\t}).then((res) => {\r\n\t\t\t\t\tconsole.log(res)\r\n\t\t\t\t\tif (res) {\r\n\t\t\t\t\t\tthis.busTerminalList = res.result.items\r\n\t\t\t\t\t\t//this.busTerminalList = this.busTerminalList.concat(res.result.items)\r\n\r\n\t\t\t\t\t\tthis.isShowNoData = true\r\n\t\t\t\t\t\tfor (var i = 0; i < this.busTerminalList.length; i++) {\r\n\t\t\t\t\t\t\tthis.busTerminalList[i].chartData = {}\r\n\r\n\t\t\t\t\t\t\tlet chartData = {\r\n\t\t\t\t\t\t\t\tseries: [{\r\n\t\t\t\t\t\t\t\t\tdata: [{\r\n\t\t\t\t\t\t\t\t\t\t\t'pointShape': this.legendShape,\r\n\t\t\t\t\t\t\t\t\t\t\t'legendShape': this.legendShape,\r\n\t\t\t\t\t\t\t\t\t\t\t'color': '#B22222',\r\n\t\t\t\t\t\t\t\t\t\t\t'name': '满胆',\r\n\t\t\t\t\t\t\t\t\t\t\t'legendText': '满胆' + this.busTerminalList[i]\r\n\t\t\t\t\t\t\t\t\t\t\t\t.fullBoxCount,\r\n\t\t\t\t\t\t\t\t\t\t\t'value': this.busTerminalList[i].fullBoxCount,\r\n\t\t\t\t\t\t\t\t\t\t\t'labelText': '满胆:' + this.busTerminalList[i]\r\n\t\t\t\t\t\t\t\t\t\t\t\t.fullBoxCount,\r\n\t\t\t\t\t\t\t\t\t\t\t'labelShow': false\r\n\t\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\t'pointShape': this.legendShape,\r\n\t\t\t\t\t\t\t\t\t\t\t'legendShape': this.legendShape,\r\n\t\t\t\t\t\t\t\t\t\t\t'color': '#9ACD32',\r\n\t\t\t\t\t\t\t\t\t\t\t'name': '空胆',\r\n\t\t\t\t\t\t\t\t\t\t\t'legendText': '空胆' + this.busTerminalList[i]\r\n\t\t\t\t\t\t\t\t\t\t\t\t.emptyBoxCount,\r\n\t\t\t\t\t\t\t\t\t\t\t'value': this.busTerminalList[i].emptyBoxCount,\r\n\t\t\t\t\t\t\t\t\t\t\t'labelText': '空胆:' + this.busTerminalList[i]\r\n\t\t\t\t\t\t\t\t\t\t\t\t.emptyBoxCount,\r\n\t\t\t\t\t\t\t\t\t\t\t'labelShow': false\r\n\t\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\t'pointShape': this.legendShape,\r\n\t\t\t\t\t\t\t\t\t\t\t'legendShape': this.legendShape,\r\n\t\t\t\t\t\t\t\t\t\t\t'color': '#6495ED',\r\n\t\t\t\t\t\t\t\t\t\t\t'name': '无胆',\r\n\t\t\t\t\t\t\t\t\t\t\t'legendText': '无胆' + this.busTerminalList[i]\r\n\t\t\t\t\t\t\t\t\t\t\t\t.emptyCellCount,\r\n\t\t\t\t\t\t\t\t\t\t\t'value': this.busTerminalList[i].emptyCellCount,\r\n\t\t\t\t\t\t\t\t\t\t\t'labelText': '无胆:' + this.busTerminalList[i]\r\n\t\t\t\t\t\t\t\t\t\t\t\t.emptyCellCount,\r\n\t\t\t\t\t\t\t\t\t\t\t'labelShow': false\r\n\t\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\t'pointShape': this.legendShape,\r\n\t\t\t\t\t\t\t\t\t\t\t'legendShape': this.legendShape,\r\n\t\t\t\t\t\t\t\t\t\t\t'color': '#D2691E',\r\n\t\t\t\t\t\t\t\t\t\t\t'name': '故障',\r\n\t\t\t\t\t\t\t\t\t\t\t'legendText': '故障' + this.busTerminalList[i]\r\n\t\t\t\t\t\t\t\t\t\t\t\t.hitchCount,\r\n\t\t\t\t\t\t\t\t\t\t\t'value': this.busTerminalList[i].hitchCount,\r\n\t\t\t\t\t\t\t\t\t\t\t'labelText': '故障:' + this.busTerminalList[i]\r\n\t\t\t\t\t\t\t\t\t\t\t\t.hitchCount,\r\n\t\t\t\t\t\t\t\t\t\t\t'labelShow': false\r\n\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t]\r\n\t\t\t\t\t\t\t\t}]\r\n\t\t\t\t\t\t\t};\r\n\r\n\t\t\t\t\t\t\tthis.busTerminalList[i].chartData = chartData\r\n\t\t\t\t\t\t\tconsole.log(chartData)\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\tconsole.log(this.busTerminalList)\r\n\t\t\t\t\t\tif (this.busTerminalList.length > 0) {\r\n\t\t\t\t\t\t\tthis.isShowNoData = false\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\t//判断是否有回调函数\r\n\t\t\t\t\tif (typeof(callBack) == 'function')\r\n\t\t\t\t\t\tcallBack()\r\n\t\t\t\t})\r\n\t\t\t},\r\n\t\t\tcardClick: Throttle(function(e) {\r\n\t\t\t\tconsole.log(e)\r\n\t\t\t\tconsole.log(e[0].currentTarget.id)\r\n\r\n\t\t\t\t//跳转到主控机信息页面\r\n\t\t\t\tuni.navigateTo({\r\n\t\t\t\t\turl: '/pages/cashCabinet/controlTerminal/controlTerminal?TerminalId=' + e[0]\r\n\t\t\t\t\t\t.currentTarget.id + '&StationName=' + this.busTerminalList.filter((b) => b\r\n\t\t\t\t\t\t\t.busTerminalId == e[0].currentTarget.id)[0].stationName\r\n\t\t\t\t})\r\n\t\t\t}),\r\n\t\t\t//下拉刷新\r\n\t\t\tpullDownRefresh() {\r\n\t\t\t\tconsole.log(\"下拉刷新啦\");\r\n\t\t\t\t//导航条加载动画\r\n\t\t\t\tuni.showNavigationBarLoading()\r\n\t\t\t\tthis.getControlTerminalGroupByBusTerminal(StopPullDownRefreshStatus)\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n</script>\r\n\r\n<style scoped lang=\"scss\">\r\n\t/deep/.uni-easyinput {\r\n\t\twidth: calc(100% - 10rpx) !important;\r\n\t\tmargin: 5rpx 5rpx 0rpx;\r\n\t\tposition: fixed;\r\n\t\ttop: 0px;\r\n\t\tz-index: 9;\r\n\t}\r\n\r\n\t/deep/.is-input-border {\r\n\t\tborder-radius: 50rpx;\r\n\t}\r\n\r\n\t.dialogPopup {\r\n\t\t/deep/.uni-popup__wrapper {\r\n\t\t\twidth: calc(100% - 40rpx);\r\n\t\t\tborder-radius: 10rpx;\r\n\t\t}\r\n\t}\r\n\r\n\t/deep/.vue-ref {\r\n\t\tpadding-bottom: 0rpx !important;\r\n\t}\r\n\r\n\t/deep/.uni-popup__wrapper {\r\n\t\tbackground-color: #fff !important;\r\n\t\tpadding: 20rpx 0rpx;\r\n\t\ttext-align: center;\r\n\t\tline-height: 60rpx;\r\n\t\tborder-radius: 10rpx 10rpx 0rpx 0rpx;\r\n\t}\r\n\r\n\t/deep/.uni-badge--x {\r\n\t\tposition: fixed;\r\n\t\tright: 15rpx;\r\n\t\tbottom: 90rpx;\r\n\t}\r\n</style>\r\n\r\n<style lang=\"scss\">\r\n\tpage {\r\n\t\tpadding: 90rpx 0rpx 120rpx 0rpx;\r\n\t\t// padding-bottom: constant(safe-area-inset-bottom);\r\n\t\t// padding-bottom: env(safe-area-inset-bottom);\r\n\r\n\t\t.content {\r\n\t\t\theight: inherit;\r\n\r\n\t\t\t.popup-content {\r\n\t\t\t\ttext {\r\n\t\t\t\t\tdisplay: block;\r\n\t\t\t\t\tcolor: #666666;\r\n\t\t\t\t}\r\n\r\n\t\t\t\t.popup-title {\r\n\t\t\t\t\tfont-weight: bolder;\r\n\t\t\t\t\tmargin-bottom: 30rpx;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\t.sumBtn {\r\n\t\t\t\tposition: fixed;\r\n\t\t\t\tbottom: 0px;\r\n\t\t\t\tbackground-color: #000000;\r\n\t\t\t\tcolor: #a9a9a9;\r\n\t\t\t\tmargin: 20rpx;\r\n\t\t\t\twidth: calc(100% - 40rpx);\r\n\t\t\t\tborder-radius: 50rpx;\r\n\t\t\t\t\r\n\t\t\t\t.badge{\r\n\t\t\t\t\tborder: none;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\t.sumBtn::after {\r\n\t\t\t\tborder: none;\r\n\t\t\t}\r\n\r\n\t\t\t.sumBtnAvailable {\r\n\t\t\t\tbackground-color: #00ccff;\r\n\t\t\t\tcolor: #003366;\r\n\t\t\t\tfont-weight: bolder;\r\n\t\t\t}\r\n\r\n\t\t\t.busTerminalInfo {\r\n\t\t\t\tmargin: 20rpx;\r\n\t\t\t\tborder-radius: 10rpx;\r\n\t\t\t\tbox-shadow: 0 0 5px 1px rgba(0, 0, 0, 0.3);\r\n\r\n\t\t\t\t.title {\r\n\t\t\t\t\tpadding: 20rpx;\r\n\t\t\t\t\tbackground-color: #003366;\r\n\t\t\t\t\tcolor: white;\r\n\t\t\t\t\tborder-radius: 10rpx 10rpx 0rpx 0rpx;\r\n\r\n\t\t\t\t\t.stationName {\r\n\t\t\t\t\t\tcolor: white;\r\n\t\t\t\t\t\tdisplay: flex;\r\n\t\t\t\t\t\twidth: fit-content;\r\n\t\t\t\t\t\tpadding: 10rpx;\r\n\t\t\t\t\t\tfont-size: 40rpx;\r\n\t\t\t\t\t\tfont-weight: bolder;\r\n\t\t\t\t\t\talign-items: center;\r\n\t\t\t\t\t\tborder-radius: 10rpx;\r\n\t\t\t\t\t\tborder: 1px solid white;\r\n\r\n\t\t\t\t\t\timage {\r\n\t\t\t\t\t\t\twidth: 40rpx;\r\n\t\t\t\t\t\t\theight: 40rpx;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\t.checked {\r\n\t\t\t\t\t\tcolor: #00ccff;\r\n\t\t\t\t\t\tborder: 1px solid #00ccff;\r\n\r\n\t\t\t\t\t\timage {\r\n\t\t\t\t\t\t\tcontent: url('../../static/checkboxChecked.png')\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\t.unChecked {\r\n\t\t\t\t\t\timage {\r\n\t\t\t\t\t\t\tcontent: url('../../static/checkboxUnChecked.png')\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\t.cabinetInfo {\r\n\t\t\t\t\t\tfont-size: 26rpx;\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\t.detailBtn {\r\n\t\t\t\t\t\tcolor: #00ccff;\r\n\t\t\t\t\t\tfloat: right;\r\n\t\t\t\t\t\tfont-size: 30rpx;\r\n\t\t\t\t\t\tfont-weight: bolder;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\r\n\t\t\t\t.chart {\r\n\t\t\t\t\twidth: inherit;\r\n\t\t\t\t\theight: 300rpx;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\t.noData {\r\n\t\t\t\theight: calc(100% - 80rpx);\r\n\t\t\t\tdisplay: flex;\r\n\t\t\t\tflex-direction: column;\r\n\t\t\t\talign-items: center;\r\n\t\t\t\tjustify-content: center;\r\n\r\n\t\t\t\timage {\r\n\t\t\t\t\twidth: 100rpx;\r\n\t\t\t\t\theight: 100rpx;\r\n\t\t\t\t\tmargin-bottom: 20rpx;\r\n\t\t\t\t}\r\n\r\n\t\t\t\ttext {\r\n\t\t\t\t\tcolor: #999999;\r\n\t\t\t\t\tfont-size: 30rpx;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n</style>\n","import mod from \"-!../../../HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../HBuilderX/plugins/uniapp-cli/node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-2!../../../HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-3!../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/sass-loader/dist/cjs.js??ref--8-oneOf-1-4!../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-5!../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./index.vue?vue&type=style&index=0&id=b5254282&scoped=true&lang=scss&\"; export default mod; export * from \"-!../../../HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../HBuilderX/plugins/uniapp-cli/node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-2!../../../HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-3!../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/sass-loader/dist/cjs.js??ref--8-oneOf-1-4!../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-5!../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./index.vue?vue&type=style&index=0&id=b5254282&scoped=true&lang=scss&\"","import mod from \"-!../../../HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../HBuilderX/plugins/uniapp-cli/node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-2!../../../HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-3!../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/sass-loader/dist/cjs.js??ref--8-oneOf-1-4!../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-5!../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./index.vue?vue&type=style&index=1&lang=scss&\"; export default mod; export * from \"-!../../../HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../HBuilderX/plugins/uniapp-cli/node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-2!../../../HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-3!../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/sass-loader/dist/cjs.js??ref--8-oneOf-1-4!../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-5!../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./index.vue?vue&type=style&index=1&lang=scss&\""],"sourceRoot":""}