{"version":3,"sources":["uni-app:///main.js","webpack:///D:/HongLongApp/pages/bluetoothControl/index.vue?d134","webpack:///D:/HongLongApp/pages/bluetoothControl/index.vue?be06","webpack:///D:/HongLongApp/pages/bluetoothControl/index.vue?1851","webpack:///D:/HongLongApp/pages/bluetoothControl/index.vue?416b","uni-app:///pages/bluetoothControl/index.vue","webpack:///D:/HongLongApp/pages/bluetoothControl/index.vue?9dab"],"names":["wx","__webpack_require_UNI_MP_PLUGIN__","__webpack_require__","createPage","Page","renderjs","component","options","__file","components","render","_vm","this","_h","$createElement","g0","_self","_c","scanState","devicesList","length","$mp","data","Object","assign","$root","recyclableRender","staticRenderFns","_withStripped","characteristicId_2","characteristicId_3","writeValue","text","connected","connectDevice","connectDeviceId","characteristics","Uint8Array","currentBTL2","currentJYW2","currentTZW2","currentSJW2","openRTSBtn","flow","DTR","RTS","isActive","onLoad","uni","frontColor","backgroundColor","animation","duration","timingFunc","console","onHide","onShow","onUnload","methods","GetID","buletoothCommand","FBInnerLock","FBInnerUnlock","FareBoxLock","FareBoxUnLock","FBCoinInsert","FBCoinReturn","InfraredCorrection","LedDisplay","QueryDeviceInfo","QueryDeviceStatus","QueryRealTimeStatus","cancelScan","success","fail","openBluetoothAdapter","mode","icon","title","startBluetoothDevicesDiscovery","allowDuplicatesKey","onBluetoothAdapterStateChange","that","onBluetoothDeviceFound","res","createBLEConnection","deviceId","url","getBLEDeviceServices","getBLEDeviceCharacteristics","serviceId","notifyBLECharacteristicValueChange","indicate","characteristicId","state","type","readBLECharacteristicValue","writeBLECharacteristicValue","byteArray","value","handleSendvalue","setTimeout","complete","setValueModem","sum","arr","dataView","setValue","CRC16","crc","crcIn","ins","str","array","index","val","arrayBuffer","buffer","key","ind","hex"],"mappings":"uJAAA,MAGA,aACA,YAFAA,EAAGC,kCAAoCC,EAGvCC,EAAWC,a,gFCLX,oIACIC,EADJ,QASIC,EAAY,qBACd,aACA,YACA,sBACA,EACA,KACA,KACA,MACA,EACA,gBACAD,GAGFC,EAAUC,QAAQC,OAAS,mCACZ,aAAAF,E,0CCvBf,uQ,iCCAA,IAAIG,EAAJ,0LACA,IAAIC,EAAS,WACX,IAAIC,EAAMC,KACNC,EAAKF,EAAIG,eAETC,GADKJ,EAAIK,MAAMC,GACVN,EAAIO,UAAYP,EAAIQ,YAAYC,OAAS,MAClDT,EAAIU,IAAIC,KAAOC,OAAOC,OACpB,GACA,CACEC,MAAO,CACLV,GAAIA,MAKRW,GAAmB,EACnBC,EAAkB,GACtBjB,EAAOkB,eAAgB,G,iCCjBvB,yHAAmmB,eAAG,G,iIC6DtmB,E,WAJA,YAIA,GAHA,MAIA,CACAN,gBACA,OAGAO,sBAEAC,sBACAC,cACAC,QAEAd,aAEAe,aACAd,eACAe,mBACAC,mBACAC,mBACAC,cAEAC,mBAEAC,cAEAC,cAEAC,cAEAC,cAEAC,OAEAC,MAEAC,MACAC,cAGAC,kBACAC,yBACAC,qBACAC,0BACAC,WACAC,aACAC,wBAIAC,0CAGAC,kBAEAD,0CAEAE,kBACA,4BAEAF,4CAEAG,oBACA,kBACAH,4CAEAI,YACAC,iBACAC,iFAEAC,uBAEAD,6EACAC,qCAEAC,yBAEAF,6EACAE,uCAEAC,uBAEAH,6EACAG,qCAEAC,yBAEAJ,6EACAI,uCAEAC,wBACAL,6EACAK,eAEAC,wBACAN,6EACAM,eAEAC,8BACAP,6EACAO,qBAEAC,sBACAR,6EACAQ,aAEAC,2BACAT,yEACAS,kBAEAC,6BACAV,yEACAU,oBAEAC,+BACAX,yEACAW,sBAGAC,sBAAA,WACAlB,oBACA,kBAEA,oBAMAN,yBACAyB,oBACA,iBAEAC,iBACA,sBAKAC,gCAAA,WACA,aAGA3B,wBACA4B,eACAH,oBACAnB,yBACA,eACA,kCAEA,oCAEAoB,iBACApB,yBACA,eAEAN,aACA6B,YACAC,0BAMAC,0CAAA,WACA/B,kCACAgC,sBACAP,oBACAnB,6BAEA,eAGA,4BAEAoB,iBACApB,8BAKA2B,yCACA,WAGAjC,6CACA,aACAkC,eACA5B,6BAEA4B,eACA5B,iCAEA4B,oBAKAC,kCAEA,WAGA,aAKAnC,sCACA,aAKAoC,+BAEA,4BAIA9B,kCAEA,4EACA,MACA4B,6BACAA,6BACAA,2CACAA,8BAIAA,8BAoBAG,gCAAA,WACArC,uBACAsC,WACAb,oBACAzB,aACA6B,YACAC,eAGAlB,qBACA,oBACAN,sBAIAN,kCAGA,yBAGAA,cACAuC,wFAGA,gBAEAb,iBACA1B,aACA6B,YACAC,eAEAxB,wBAKAkC,gCACA,WAEAxC,wBACAsC,2BACAb,oBACA,oCAIA,GAHAnB,0CAGA,0CAIA,OAHAM,uCACAsB,mCACAA,iCAKAR,iBACApB,qCAKAmC,uCAAA,WACAzC,+BACAsC,8BACAI,kCACAjB,oBACAnB,wCACA,oCAEA,4CACA,2BAEA,+BACA,4BACAM,mCACA,gCACA,6BAOA,wCAKAc,iBACApB,4BAKAqC,8CAGA,IAFA,WAEA,oCACA,wEACAC,WACA5C,sCACAsC,2BACAI,+BACAG,2CACAC,SACAC,oBACAtB,oBAGAnB,6BAEAoB,iBAGApB,gCAWA0C,sCACA,8CACA,yCACAhD,8BACAsC,8BACAI,kCACAG,8CACApB,oBACAnB,iCAEAoB,iBACApB,oCAOA2C,uCAEA,0BACA,oBAEAC,oBACAA,kBACAA,mCACAA,QACAA,QACAA,QACAA,QACAA,QACAA,QACAA,QAEA,uBAEAA,WACAA,WAIA5C,wBAcAN,+BACAsC,8BACAI,kCACAG,yCACAM,QACA1B,oBACAnB,yBAEAoB,iBACApB,0BA+BA8C,sCACA,WACApD,+BACAsC,WACAI,YACAG,mBACAM,QACA1B,oBACA,OACAzE,aACA8E,uBACAD,YACAzB,eAEAiD,uBACAnB,iDACAhD,2CACA,OAGAwC,iBACA1E,aACA8E,aACAD,YACAzB,gBAGAkD,yBAMAC,yBASA,IATA,WACA,qBACA,kBAEA,WACA,6BAGA,IACA,aACA,KACAC,YAGAC,UAEA,gBACAC,mBAGAL,uBACA,+DACAvE,sBACA,MAIA6E,oBAaA,IAZA,WAEA,sBACA,kBAEA,uDACA,yEACAzB,6BAGA,IAEA,cACA,KACAsB,YAGAC,UAEA,iBACAC,mBAGAL,uBACAnB,+DACApD,sBACA,MAIA8E,kBACA,eACA,0BACA,iCACAtF,KACA,QACA,QAEA,IADA,QACA,YACAuF,2BAEAA,wBACAA,wBAEA,mBACA,QAEA,6BAEA,iCACA,uCACAC,KACA,QACA,QAEA,GACAD,MACAE,MACA,gBACA,EAEA,mBACAF,eAGA,kBACA,aACA,4DAGA,WACA7D,8CAGA,GAFAM,uBAEA,2CACA,+BACA,oBAEA,+BAEA,gCACA,6BAEA,SAIA,GAFAA,iCAEA,kBACA,oBACA,gBACA,cACA,cACA,cAEAA,yCAEA,+BAEA,iCACA,YAEAA,gCAKA,8CACA,wBACAA,mCAEAA,8CAyBA,uBACAA,+CAgBA,sDAEA,WACA,yBACAN,4BACAyB,oBACA,gCAEAC,iBACA,sCAGA,yCAEAsC,GACA,SACA,MACA,eACA,IACA,KACA,UACAC,2BACAC,KAIA,OAFAC,cAEA,wDACA,0BACA,YACA,kCAEAC,GACA,wBACA,oCACA,aACA,kCAEAC,GACA,+BACA,mBACA,YACA,yCAGA,sBACA,oCACAL,GAsDA,IArDA,QACAM,MACAH,YACA,CACAG,MACAH,YACA,CACAG,MACAH,YACA,CACAG,MACAH,YACA,CACAG,MACAH,YACA,CACAG,MACAH,YACA,CACAG,MACAH,YACA,CACAG,MACAH,YAEA,CACAG,MACAH,YACA,CACAG,MACAH,YACA,CACAG,QACAH,YACA,CACAG,QACAH,YACA,CACAG,QACAH,YACA,CACAG,QACAH,YACA,CACAG,QACAH,YACA,CACAG,QACAH,aAIA,KACA,mBACA,2BACA,wCACAhB,qBACA,MAKA,aACA,+CACAa,GACA,MACA,0BAMA,IAJA,gCACA,kBAEA,IACA,yBACA,sBACA,cAEAN,gBACAa,IAIA,OADAjE,wBACA,MACA,uCACAkE,GAIA,IAFA,SAEA,oBAEAR,mDAIA,aAEA,4CAEAG,KAEA,SACA,IAEA,KAEA,KAEA,c,6ECj4BA,yHAAkoC,eAAG,G","file":"pages/bluetoothControl/index.js","sourcesContent":["import 'uni-pages';\n// @ts-ignore\nwx.__webpack_require_UNI_MP_PLUGIN__ = __webpack_require__;\nimport Vue from 'vue'\nimport Page from './pages/bluetoothControl/index.vue'\ncreatePage(Page)","import { render, staticRenderFns, recyclableRender, components } from \"./index.vue?vue&type=template&id=3328084b&\"\nvar renderjs\nimport script from \"./index.vue?vue&type=script&lang=js&\"\nexport * from \"./index.vue?vue&type=script&lang=js&\"\nimport style0 from \"./index.vue?vue&type=style&index=0&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null,\n  false,\n  components,\n  renderjs\n)\n\ncomponent.options.__file = \"pages/bluetoothControl/index.vue\"\nexport default component.exports","export * from \"-!../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--17-0!../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/template.js!../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-uni-app-loader/page-meta.js!../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./index.vue?vue&type=template&id=3328084b&\"","var components\nvar render = function () {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n  var g0 = _vm.scanState ? _vm.devicesList.length : null\n  _vm.$mp.data = Object.assign(\n    {},\n    {\n      $root: {\n        g0: g0,\n      },\n    }\n  )\n}\nvar recyclableRender = false\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns, recyclableRender, components }","import mod from \"-!../../../HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--13-1!../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./index.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--13-1!../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./index.vue?vue&type=script&lang=js&\"","<template>\r\n\t<view class=\"content\">\r\n\t\t<view v-if=\"scanState\" class=\"search\">\r\n\t\t\t<view class=\"top\">\r\n\t\t\t\t<text>{{ '搜索到' + devicesList.length + '个设备' }}</text>\r\n\t\t\t\t<button type=\"default\" @click=\"cancelScan\">结束搜索</button>\r\n\t\t\t\t<!-- <button type=\"primary\" @click=\"writeBLECharacteristicValue\">请求</button> -->\r\n\t\t\t</view>\r\n<!-- \t\t\t<button type=\"primary\" @click=\"GetID\">获取投币机和内胆ID</button>\r\n\t\t\t<button type=\"primary\" @click=\"FBInnerLock\">投币机机构锁</button>\r\n\t\t\t<button type=\"primary\" @click=\"FBInnerUnlock\">投币机机构解锁</button>\r\n\t\t\t<button type=\"primary\" @click=\"FareBoxLock\">投币机内胆锁</button>\r\n\t\t\t<button type=\"primary\" @click=\"FareBoxUnLock\">投币机内胆解锁</button>\r\n\t\t\t<button type=\"primary\" @click=\"FBCoinInsert\">投币机电机入币操作</button>\r\n\t\t\t<button type=\"primary\" @click=\"FBCoinReturn\">投币机电机退币操作</button>\r\n\t\t\t<button type=\"primary\" @click=\"InfraredCorrection\">红外口校正</button>\r\n\t\t\t<button type=\"primary\" @click=\"LedDisplay\">Led显示</button>\r\n\t\t\t<button type=\"primary\" @click=\"QueryDeviceInfo\">查设备信息</button>\r\n\t\t\t<button type=\"primary\" @click=\"QueryDeviceStatus\">查设备状态</button>\r\n\t\t\t<button type=\"primary\" @click=\"QueryRealTimeStatus\">查设备实时状态</button> -->\r\n\t\t\t<view class=\"device\" v-for=\"(item, index) in devicesList\" :key=\"item.deviceId\"\r\n\t\t\t\t@click=\"createBLEConnection(item.deviceId)\">\r\n\t\t\t\t<view class=\"name\">{{ item.name }}</view>\r\n\t\t\t\t<view class=\"rssi\">\r\n\t\t\t\t\t<!-- {{ '信号强度：' + item.RSSI }} -->\r\n\t\t\t\t\t<view class=\"rssiImg\">\r\n\t\t\t\t\t\t<view class=\"rssi_1\" :style=\"{backgroundColor: (item.RSSI>= -130 ? 'green' : '#555555')}\">\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t<view class=\"rssi_2\" :style=\"{backgroundColor: (item.RSSI>= -80 ? 'green' : '#555555')}\"></view>\r\n\t\t\t\t\t\t<view class=\"rssi_3\" :style=\"{backgroundColor: (item.RSSI>= -60 ? 'green' : '#555555')}\"></view>\r\n\t\t\t\t\t\t<view class=\"rssi_4\" :style=\"{backgroundColor: (item.RSSI>= -40 ? 'green' : '#555555')}\"></view>\r\n\t\t\t\t\t\t<view class=\"rssi_5\" :style=\"{backgroundColor: (item.RSSI>= -20 ? 'green' : '#555555')}\"></view>\r\n\r\n\t\t\t\t\t\t<text>{{ item.RSSI  }}</text>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t</view>\r\n\t\t\t</view>\r\n\t\t</view>\r\n\t\t<button v-else id=\"deviceFound\" type=\"default\" :class=\"isActive ? 'deviceFound reduce' : 'deviceFound'\"\r\n\t\t\t@click=\"openBluetoothAdapter\">搜索蓝牙</button>\r\n\t\t<!-- \t\t<uni-easyinput v-model=\"writeValue\" placeholder=\"请输入内容\"></uni-easyinput>\r\n\t\t\r\n\t\t<button type=\"primary\" @click=\"openBluetoothAdapter\">初始化蓝牙模块</button>\r\n\t\t<button type=\"primary\" @click=\"getBLEDeviceServices\">获取蓝牙外围设备的服务</button>\r\n\t\t<button type=\"primary\" @click=\"getBluetoothAdapterState\">获取本机蓝牙适配器状态</button>\r\n\t\t<button type=\"primary\" @click=\"cancelScan\">取消扫描</button>\r\n\t\t\r\n\t\t<button type=\"primary\" @click=\"writeBLECharacteristicValue\">请求</button> -->\r\n\r\n\r\n\t\t<!-- \t\t<view>\r\n\t\t\t{{text}}\r\n\t\t</view> -->\r\n\t</view>\r\n</template>\r\n\r\n<script>\r\n\timport buletoothCommand from '@/pages/bluetoothControl/buletoothCommand.js'\r\n\timport {\r\n\t\tSleep,\r\n\t\tHexToDecStr\r\n\t} from '@/utils/tool.js'\r\n\texport default {\r\n\t\tdata() {\r\n\t\t\treturn {\r\n\t\t\t\t//0000FFF1（通知，需要监听此特征获取返回值）\r\n\t\t\t\t//0000FFF2（主机发送数据通道，发送数据将会再串口发送出去）\r\n\t\t\t\tcharacteristicId_2: '',\r\n\t\t\t\t//0000FFF3（读、写，配置通道，IO同步）\r\n\t\t\t\tcharacteristicId_3: '',\r\n\t\t\t\twriteValue: '',\r\n\t\t\t\ttext: '',\r\n\t\t\t\t//扫描状态（true：正在扫描中；false：未扫描；）\r\n\t\t\t\tscanState: true,\r\n\t\t\t\t//蓝牙是否开启（true：已开启；false：未开启；）\r\n\t\t\t\tconnected: false,\r\n\t\t\t\tdevicesList: [],\r\n\t\t\t\tconnectDevice: null,\r\n\t\t\t\tconnectDeviceId: '',\r\n\t\t\t\tcharacteristics: [],\r\n\t\t\t\tUint8Array: [],\r\n\t\t\t\t//波特率\r\n\t\t\t\tcurrentBTL2: 115200,\r\n\t\t\t\t//校验位\r\n\t\t\t\tcurrentJYW2: 0,\r\n\t\t\t\t//停止位\r\n\t\t\t\tcurrentTZW2: 1,\r\n\t\t\t\t//数据位\r\n\t\t\t\tcurrentSJW2: 8,\r\n\t\t\t\t//流控：默认关\r\n\t\t\t\topenRTSBtn: false,\r\n\t\t\t\t//flow\r\n\t\t\t\tflow: 0,\r\n\t\t\t\t//DTR\r\n\t\t\t\tDTR: 1,\r\n\t\t\t\t//RTS\r\n\t\t\t\tRTS: 1,\r\n\t\t\t\tisActive: false\r\n\t\t\t}\r\n\t\t},\r\n\t\tonLoad() {\r\n\t\t\tuni.setNavigationBarColor({\r\n\t\t\t\tfrontColor: '#ffffff',\r\n\t\t\t\tbackgroundColor: '#003366',\r\n\t\t\t\tanimation: {\r\n\t\t\t\t\tduration: 3000,\r\n\t\t\t\t\ttimingFunc: \"easeOut\"\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\t\t\r\n\t\t\tconsole.log('bluetoothControl_onLoad方法')\r\n\t\t\t//this.openBluetoothAdapter()\r\n\t\t},\r\n\t\tonHide() {\r\n\t\t\t//this.cancelScan()\r\n\t\t\tconsole.log('bluetoothControl_onHide方法')\r\n\t\t},\r\n\t\tonShow() {\r\n\t\t\tthis.openBluetoothAdapter()\r\n\t\t\t\r\n\t\t\tconsole.log('触发bluetoothControl_onShow方法')\r\n\t\t},\r\n\t\tonUnload() {\r\n\t\t\tthis.cancelScan()\r\n\t\t\tconsole.log('bluetoothControl_onUnload方法')\r\n\t\t},\r\n\t\tmethods: {\r\n\t\t\tGetID() {\r\n\t\t\t\tbuletoothCommand.SendCommand(buletoothCommand.CMDTypeSend.Query, buletoothCommand.CMDQuerySend.GetID)\r\n\t\t\t},\r\n\t\t\tFBInnerLock() {\r\n\t\t\t\t//var data = buletoothCommand.EnCodeTestPassword()\r\n\t\t\t\tbuletoothCommand.SendCommand(buletoothCommand.CMDTypeSend.Control, buletoothCommand.CMDControlSend\r\n\t\t\t\t\t.FBInnerLock, buletoothCommand.TestPassword)\r\n\t\t\t},\r\n\t\t\tFBInnerUnlock() {\r\n\t\t\t\t//var data = buletoothCommand.EnCodeTestPassword()\r\n\t\t\t\tbuletoothCommand.SendCommand(buletoothCommand.CMDTypeSend.Control, buletoothCommand.CMDControlSend\r\n\t\t\t\t\t.FBInnerUnlock, buletoothCommand.TestPassword)\r\n\t\t\t},\r\n\t\t\tFareBoxLock() {\r\n\t\t\t\t//var data = buletoothCommand.EnCodeTestPassword()\r\n\t\t\t\tbuletoothCommand.SendCommand(buletoothCommand.CMDTypeSend.Control, buletoothCommand.CMDControlSend\r\n\t\t\t\t\t.FareBoxLock, buletoothCommand.TestPassword)\r\n\t\t\t},\r\n\t\t\tFareBoxUnLock() {\r\n\t\t\t\t//var data = buletoothCommand.EnCodeTestPassword()\r\n\t\t\t\tbuletoothCommand.SendCommand(buletoothCommand.CMDTypeSend.Control, buletoothCommand.CMDControlSend\r\n\t\t\t\t\t.FareBoxUnLock, buletoothCommand.TestPassword)\r\n\t\t\t},\r\n\t\t\tFBCoinInsert() {\r\n\t\t\t\tbuletoothCommand.SendCommand(buletoothCommand.CMDTypeSend.Control, buletoothCommand.CMDControlSend\r\n\t\t\t\t\t.FBCoinInsert)\r\n\t\t\t},\r\n\t\t\tFBCoinReturn() {\r\n\t\t\t\tbuletoothCommand.SendCommand(buletoothCommand.CMDTypeSend.Control, buletoothCommand.CMDControlSend\r\n\t\t\t\t\t.FBCoinReturn)\r\n\t\t\t},\r\n\t\t\tInfraredCorrection() {\r\n\t\t\t\tbuletoothCommand.SendCommand(buletoothCommand.CMDTypeSend.Control, buletoothCommand.CMDControlSend\r\n\t\t\t\t\t.InfraredCorrection)\r\n\t\t\t},\r\n\t\t\tLedDisplay() {\r\n\t\t\t\tbuletoothCommand.SendCommand(buletoothCommand.CMDTypeSend.Control, buletoothCommand.CMDControlSend\r\n\t\t\t\t\t.LedDisplay)\r\n\t\t\t},\r\n\t\t\tQueryDeviceInfo() {\r\n\t\t\t\tbuletoothCommand.SendCommand(buletoothCommand.CMDTypeSend.Query, buletoothCommand.CMDQuerySend\r\n\t\t\t\t\t.QueryDeviceInfo)\r\n\t\t\t},\r\n\t\t\tQueryDeviceStatus() {\r\n\t\t\t\tbuletoothCommand.SendCommand(buletoothCommand.CMDTypeSend.Query, buletoothCommand.CMDQuerySend\r\n\t\t\t\t\t.QueryDeviceStatus)\r\n\t\t\t},\r\n\t\t\tQueryRealTimeStatus() {\r\n\t\t\t\tbuletoothCommand.SendCommand(buletoothCommand.CMDTypeSend.Query, buletoothCommand.CMDQuerySend\r\n\t\t\t\t\t.QueryRealTimeStatus)\r\n\t\t\t},\r\n\t\t\t//取消\r\n\t\t\tcancelScan() {\r\n\t\t\t\tconsole.log('退出页面')\r\n\t\t\t\tthis.scanState = false\r\n\r\n\t\t\t\tthis.devicesList = []\r\n\t\t\t\t// this.connectDevice = null\r\n\t\t\t\t// buletoothCommand.DeviceId = ''\r\n\t\t\t\t// this.connectDeviceId = ''\r\n\t\t\t\t// this.characteristics = []\r\n\r\n\t\t\t\tuni.closeBluetoothAdapter({\r\n\t\t\t\t\tsuccess: (res) => {\r\n\t\t\t\t\t\tthis.text = '关闭蓝牙模块'\r\n\t\t\t\t\t},\r\n\t\t\t\t\tfail: (res) => {\r\n\t\t\t\t\t\tthis.text = '关闭蓝牙模块失败'\r\n\t\t\t\t\t}\r\n\t\t\t\t})\r\n\t\t\t},\r\n\t\t\t//初始化蓝牙模块\r\n\t\t\topenBluetoothAdapter() {\r\n\t\t\t\tthis.text = ''\r\n\r\n\t\t\t\t// 初始化蓝牙模块\r\n\t\t\t\tuni.openBluetoothAdapter({\r\n\t\t\t\t\tmode: 'central',\r\n\t\t\t\t\tsuccess: (res) => {\r\n\t\t\t\t\t\tconsole.log('蓝牙初始化成功', res)\r\n\t\t\t\t\t\tthis.connected = true\r\n\t\t\t\t\t\tthis.onBluetoothAdapterStateChange()\r\n\r\n\t\t\t\t\t\tthis.startBluetoothDevicesDiscovery()\r\n\t\t\t\t\t},\r\n\t\t\t\t\tfail: (err) => {\r\n\t\t\t\t\t\tconsole.log('蓝牙初始化失败', err)\r\n\t\t\t\t\t\tthis.scanState = false\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\t\ticon: 'none',\r\n\t\t\t\t\t\t\ttitle: '请检查手机蓝牙是否打开'\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t}\r\n\t\t\t\t})\r\n\t\t\t},\r\n\t\t\t//开始搜索附近的蓝牙外围设备\r\n\t\t\tstartBluetoothDevicesDiscovery() {\r\n\t\t\t\tuni.startBluetoothDevicesDiscovery({\r\n\t\t\t\t\tallowDuplicatesKey: true,\r\n\t\t\t\t\tsuccess: (res) => {\r\n\t\t\t\t\t\tconsole.log('开始搜索附近的蓝牙设备', res)\r\n\r\n\t\t\t\t\t\tthis.scanState = true\r\n\r\n\t\t\t\t\t\t//开始监听扫描新设备事件\r\n\t\t\t\t\t\tthis.onBluetoothDeviceFound()\r\n\t\t\t\t\t},\r\n\t\t\t\t\tfail: (err) => {\r\n\t\t\t\t\t\tconsole.log('搜索蓝牙设备失败', err)\r\n\t\t\t\t\t}\r\n\t\t\t\t})\r\n\t\t\t},\r\n\t\t\t//搜索过程中检查蓝牙状态（监听）\r\n\t\t\tonBluetoothAdapterStateChange() {\r\n\t\t\t\tvar that = this\r\n\r\n\t\t\t\t//搜索过程中检查蓝牙状态\r\n\t\t\t\tuni.onBluetoothAdapterStateChange(function(res) {\r\n\t\t\t\t\tif (res.available) {\r\n\t\t\t\t\t\tthat.connected = true\r\n\t\t\t\t\t\tconsole.log('蓝牙适配器状态变为可用')\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tthat.connected = false\r\n\t\t\t\t\t\tconsole.log('蓝牙适配器不可用，可能是蓝牙被关闭')\r\n\r\n\t\t\t\t\t\tthat.cancelScan()\r\n\t\t\t\t\t}\r\n\t\t\t\t})\r\n\t\t\t},\r\n\t\t\t//搜索蓝牙设备（监听）\r\n\t\t\tonBluetoothDeviceFound() {\r\n\t\t\t\t//Sleep(500)\r\n\t\t\t\tvar that = this\r\n\r\n\t\t\t\t//蓝牙搜索中关闭，则停止搜索\r\n\t\t\t\tif (!that.connected) {\r\n\t\t\t\t\treturn\r\n\t\t\t\t}\r\n\r\n\t\t\t\t//监听搜索到新设备的事件\r\n\t\t\t\tuni.onBluetoothDeviceFound((res) => {\r\n\t\t\t\t\tif (!that.scanState) {\r\n\t\t\t\t\t\treturn\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\t//更新蓝牙设备列表数据\r\n\t\t\t\t\tres.devices.forEach((device) => {\r\n\t\t\t\t\t\t// 名字前两位 != 'HJ'开头的设备排除\r\n\t\t\t\t\t\tif (device.name.slice(0, 2) != 'HJ') {\r\n\t\t\t\t\t\t\treturn\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\tconsole.log('监听扫描到的设备', res.devices)\r\n\r\n\t\t\t\t\t\tvar index = that.devicesList.findIndex(r => r.deviceId == device.deviceId)\r\n\t\t\t\t\t\tif (index >= 0) {\r\n\t\t\t\t\t\t\tthat.devicesList[index].name = device.name\r\n\t\t\t\t\t\t\tthat.devicesList[index].RSSI = device.RSSI\r\n\t\t\t\t\t\t\tthat.devicesList[index].connectable = device.connectable\r\n\t\t\t\t\t\t\tthat.devicesList[index].lostCount = 0\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t//that.devicesList[index] = device\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\tthat.devicesList.push(device)\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t})\r\n\r\n\t\t\t\t\t//排除三次及以上未搜索到的蓝牙设备\r\n\t\t\t\t\t// that.devicesList.forEach((device) => {\r\n\t\t\t\t\t// \tvar index = res.devices.findIndex(r => r.deviceId == device.deviceId)\r\n\t\t\t\t\t// \tif (index < 0) {\r\n\t\t\t\t\t// \t\tdevice.lostCount += 1\r\n\t\t\t\t\t// \t\tconsole.log(device.deviceId + '未搜索到次数', device.lostCount)\r\n\r\n\t\t\t\t\t// \t\tif (device.lostCount >= 10) {\r\n\t\t\t\t\t// \t\t\tconsole.log('排除未搜索到的设备', index)\r\n\t\t\t\t\t// \t\t\tthat.devicesList = that.devicesList.filter(r => r.deviceId != device\r\n\t\t\t\t\t// \t\t\t\t.deviceId)\r\n\t\t\t\t\t// \t\t}\r\n\t\t\t\t\t// \t}\r\n\t\t\t\t\t// })\r\n\t\t\t\t})\r\n\t\t\t},\r\n\t\t\tcreateBLEConnection(deviceId) {\r\n\t\t\t\tuni.createBLEConnection({\r\n\t\t\t\t\tdeviceId: deviceId,\r\n\t\t\t\t\tsuccess: (res) => {\r\n\t\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\t\ticon: 'none',\r\n\t\t\t\t\t\t\ttitle: '连接成功'\r\n\t\t\t\t\t\t})\r\n\r\n\t\t\t\t\t\tbuletoothCommand.DeviceId = deviceId\r\n\t\t\t\t\t\tthis.connectDeviceId = deviceId\r\n\t\t\t\t\t\tconsole.log('连接成功', res)\r\n\r\n\t\t\t\t\t\t//this.onBLEConnectionStateChange()\r\n\r\n\t\t\t\t\t\tuni.stopBluetoothDevicesDiscovery()\r\n\r\n\t\t\t\t\t\t//发现蓝牙设备上的服务  \r\n\t\t\t\t\t\tthis.getBLEDeviceServices()\r\n\r\n\t\t\t\t\t\t//跳转到通信界面\r\n\t\t\t\t\t\tuni.navigateTo({\r\n\t\t\t\t\t\t\turl: '/pages/bluetoothControl/communication/communication?DeviceId=' + this.connectDeviceId\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\tthis.scanState = false\r\n\t\t\t\t\t},\r\n\t\t\t\t\tfail: (res) => {\r\n\t\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\t\ticon: 'none',\r\n\t\t\t\t\t\t\ttitle: '连接失败'\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t\tconsole.log('连接失败')\r\n\t\t\t\t\t}\r\n\t\t\t\t})\r\n\t\t\t},\r\n\t\t\t//获取蓝牙低功耗设备所有服务\r\n\t\t\tgetBLEDeviceServices() {\r\n\t\t\t\tvar that = this\r\n\r\n\t\t\t\tuni.getBLEDeviceServices({\r\n\t\t\t\t\tdeviceId: that.connectDeviceId, // 搜索到设备的 deviceId\r\n\t\t\t\t\tsuccess: (res) => {\r\n\t\t\t\t\t\tfor (let i = 0; i < res.services.length; i++) {\r\n\t\t\t\t\t\t\tconsole.log('获取蓝牙低功耗设备所有服务成功', res.services)\r\n\r\n\t\t\t\t\t\t\t// 可根据具体业务需要，选择一个主服务进行通信（透传服务的UUID为0xFFF0）\r\n\t\t\t\t\t\t\tif (res.services[i].uuid.indexOf('0000FFF0') >= 0) {\r\n\t\t\t\t\t\t\t\tbuletoothCommand.ServiceId = res.services[i].uuid\r\n\t\t\t\t\t\t\t\tthat.connectDevice = res.services[i]\r\n\t\t\t\t\t\t\t\tthat.getBLEDeviceCharacteristics()\r\n\t\t\t\t\t\t\t\treturn\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t},\r\n\t\t\t\t\tfail: (err) => {\r\n\t\t\t\t\t\tconsole.log('获取蓝牙低功耗设备所有服务失败', err)\r\n\t\t\t\t\t}\r\n\t\t\t\t})\r\n\t\t\t},\r\n\t\t\t//获取蓝牙低功耗设备某个服务中所有特征 (characteristic)\r\n\t\t\tgetBLEDeviceCharacteristics() {\r\n\t\t\t\tuni.getBLEDeviceCharacteristics({\r\n\t\t\t\t\tdeviceId: this.connectDeviceId,\r\n\t\t\t\t\tserviceId: this.connectDevice.uuid,\r\n\t\t\t\t\tsuccess: (res) => {\r\n\t\t\t\t\t\tconsole.log('获取特征成功', res.characteristics)\r\n\t\t\t\t\t\tthis.characteristics = res.characteristics\r\n\r\n\t\t\t\t\t\tfor (var i = 0; i < res.characteristics.length; i++) {\r\n\t\t\t\t\t\t\tvar item = res.characteristics[i]\r\n\r\n\t\t\t\t\t\t\tif (item.uuid.indexOf('0000FFF2') >= 0) {\r\n\t\t\t\t\t\t\t\tthis.characteristicId_2 = item.uuid\r\n\t\t\t\t\t\t\t\tbuletoothCommand.CharacteristicId = item.uuid\r\n\t\t\t\t\t\t\t} else if (item.uuid.indexOf('0000FFF3') >= 0) {\r\n\t\t\t\t\t\t\t\tthis.characteristicId_3 = item.uuid\r\n\t\t\t\t\t\t\t\t//this.setValue()\r\n\t\t\t\t\t\t\t\t//this.setValueModem()\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t//启用蓝牙低功耗设备特征值变化时的 notify 功能，订阅特征\r\n\t\t\t\t\t\tthis.notifyBLECharacteristicValueChange()\r\n\r\n\t\t\t\t\t\t//读取蓝牙低功耗设备特征值的二进制数据\r\n\t\t\t\t\t\t//this.readBLECharacteristicValue()\r\n\t\t\t\t\t},\r\n\t\t\t\t\tfail: (err) => {\r\n\t\t\t\t\t\tconsole.log('获取特征失败', err)\r\n\t\t\t\t\t}\r\n\t\t\t\t})\r\n\t\t\t},\r\n\t\t\t//启用蓝牙低功耗设备特征值变化时的 notify 功能，订阅特征\r\n\t\t\tnotifyBLECharacteristicValueChange() {\r\n\t\t\t\tvar that = this\r\n\r\n\t\t\t\tfor (var i = 0; i < that.characteristics.length; i++) {\r\n\t\t\t\t\tif (that.characteristics[i].properties.notify || that.characteristics[i].properties\r\n\t\t\t\t\t\t.indicate) {\r\n\t\t\t\t\t\tuni.notifyBLECharacteristicValueChange({\r\n\t\t\t\t\t\t\tdeviceId: that.connectDeviceId,\r\n\t\t\t\t\t\t\tserviceId: that.connectDevice.uuid,\r\n\t\t\t\t\t\t\tcharacteristicId: that.characteristics[i].uuid,\r\n\t\t\t\t\t\t\tstate: true,\r\n\t\t\t\t\t\t\ttype: 'notification',\r\n\t\t\t\t\t\t\tsuccess: (res) => {\r\n\t\t\t\t\t\t\t\t//连接成功\r\n\r\n\t\t\t\t\t\t\t\tconsole.log('启用notify成功', res)\r\n\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\tfail: (err) => {\r\n\t\t\t\t\t\t\t\t//连接失败\r\n\r\n\t\t\t\t\t\t\t\tconsole.log('启用notify失败', err)\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\r\n\t\t\t\t//监听蓝牙低功耗设备的特征值变化事件\r\n\t\t\t\t//this.onBLECharacteristicValueChange()\r\n\t\t\t\t//buletoothCommand.BLECharacteristicValueChange()\r\n\t\t\t},\r\n\t\t\t//读取蓝牙低功耗设备特征值的二进制数据\r\n\t\t\treadBLECharacteristicValue() {\r\n\t\t\t\tfor (var i = 0; i < this.characteristics.length; i++) {\r\n\t\t\t\t\tif (this.characteristics[i].properties.read) {\r\n\t\t\t\t\t\tuni.readBLECharacteristicValue({\r\n\t\t\t\t\t\t\tdeviceId: this.connectDeviceId,\r\n\t\t\t\t\t\t\tserviceId: this.connectDevice.uuid,\r\n\t\t\t\t\t\t\tcharacteristicId: this.characteristics[i].uuid,\r\n\t\t\t\t\t\t\tsuccess: (res) => {\r\n\t\t\t\t\t\t\t\tconsole.log('读取蓝牙低功耗设备特征值成功', res)\r\n\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\tfail: (err) => {\r\n\t\t\t\t\t\t\t\tconsole.log('读取蓝牙低功耗设备特征值失败', err)\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\t//向蓝牙低功耗设备特征值中写入二进制数据\r\n\t\t\twriteBLECharacteristicValue() {\r\n\t\t\t\t// 向蓝牙设备发送一个0x00的16进制数据\r\n\t\t\t\tlet buffer = new ArrayBuffer(12)\r\n\t\t\t\tlet byteArray = new Uint8Array(buffer)\r\n\t\t\t\t//let dataView = new DataView(buffer)\r\n\t\t\t\tbyteArray[0] = buletoothCommand.Head\r\n\t\t\t\tbyteArray[1] = buffer.byteLength\r\n\t\t\t\tbyteArray[2] = buletoothCommand.CMDTypeSend.Control\r\n\t\t\t\tbyteArray[3] = 0x12\r\n\t\t\t\tbyteArray[4] = 50\r\n\t\t\t\tbyteArray[5] = 52\r\n\t\t\t\tbyteArray[6] = 48\r\n\t\t\t\tbyteArray[7] = 50\r\n\t\t\t\tbyteArray[8] = 48\r\n\t\t\t\tbyteArray[9] = 53\r\n\r\n\t\t\t\tconst crc16 = this.CRC16(byteArray, 10)\r\n\t\t\t\t//反转一下crc16结果，先取1再取0\r\n\t\t\t\tbyteArray[10] = crc16[1]\r\n\t\t\t\tbyteArray[11] = crc16[0]\r\n\r\n\t\t\t\t//var buffer = this.stringToArrayBuffer('20240307142600')\r\n\r\n\t\t\t\tconsole.log('请求数据格式', buffer)\r\n\r\n\t\t\t\t// 创建一个指向ArrayBuffer的Uint8Array视图  \r\n\t\t\t\t// const view = new Uint8Array(7)\r\n\t\t\t\t// view[0] = 0x10\r\n\t\t\t\t// view[1] = 4\r\n\t\t\t\t// view[2] = 0x01\r\n\t\t\t\t// view[3] = 0x60\r\n\t\t\t\t// view[4] = ''\r\n\r\n\t\t\t\t// const crc16 = this.CRC16(view)\r\n\t\t\t\t// view[5] = crc16[0]\r\n\t\t\t\t// view[6] = crc16[1]\r\n\r\n\t\t\t\tuni.writeBLECharacteristicValue({\r\n\t\t\t\t\tdeviceId: this.connectDeviceId,\r\n\t\t\t\t\tserviceId: this.connectDevice.uuid,\r\n\t\t\t\t\tcharacteristicId: this.characteristicId_2,\r\n\t\t\t\t\tvalue: buffer,\r\n\t\t\t\t\tsuccess: (res) => {\r\n\t\t\t\t\t\tconsole.log('写入数据成功', res)\r\n\t\t\t\t\t},\r\n\t\t\t\t\tfail: (err) => {\r\n\t\t\t\t\t\tconsole.log('写入失败', err)\r\n\t\t\t\t\t}\r\n\t\t\t\t})\r\n\r\n\t\t\t\t// var source = '20240307142600'\r\n\t\t\t\t// let count = 23 - 3\r\n\t\t\t\t// for (let i = 0, len = source.length / count; i < len; i++) {\r\n\r\n\t\t\t\t// \tlet subStr = source.substr(0, count);\r\n\t\t\t\t// \tlet length = this.countValueLength(subStr.length, false)\r\n\r\n\t\t\t\t// \tsetTimeout(() => {\r\n\t\t\t\t// \t\tuni.writeBLECharacteristicValue({\r\n\t\t\t\t// \t\t\tdeviceId: this.connectDeviceId,\r\n\t\t\t\t// \t\t\tserviceId: this.connectDevice.uuid,\r\n\t\t\t\t// \t\t\tcharacteristicId: this.characteristicId_2,\r\n\t\t\t\t// \t\t\tvalue: buffer,\r\n\t\t\t\t// \t\t\tsuccess: (res) => {\r\n\t\t\t\t// \t\t\t\tconsole.log('写入数据成功', res)\r\n\t\t\t\t// \t\t\t},\r\n\t\t\t\t// \t\t\tfail: (err) => {\r\n\t\t\t\t// \t\t\t\tconsole.log('写入失败', err)\r\n\t\t\t\t// \t\t\t}\r\n\t\t\t\t// \t\t})\r\n\t\t\t\t// \t}, 1000)\r\n\r\n\r\n\t\t\t\t// \tsource = source.replace(subStr, \"\");\r\n\t\t\t\t// }\r\n\t\t\t},\r\n\t\t\t// 写入数据\r\n\t\t\thandleSendvalue(buffer, flag, deviceId, serviceId, characteristicId, length) {\r\n\t\t\t\tlet that = this\r\n\t\t\t\tuni.writeBLECharacteristicValue({\r\n\t\t\t\t\tdeviceId: deviceId,\r\n\t\t\t\t\tserviceId: serviceId,\r\n\t\t\t\t\tcharacteristicId: characteristicId,\r\n\t\t\t\t\tvalue: buffer,\r\n\t\t\t\t\tsuccess: function(res) {\r\n\t\t\t\t\t\tif (flag != 3) { //波特率\r\n\t\t\t\t\t\t\twx.showToast({\r\n\t\t\t\t\t\t\t\ttitle: 'BleUart:串口设置成功',\r\n\t\t\t\t\t\t\t\ticon: \"none\",\r\n\t\t\t\t\t\t\t\tduration: 1000\r\n\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\tsetTimeout(() => {\r\n\t\t\t\t\t\t\t\tthat.readBLECharacteristicValue(that.connectDeviceId, that\r\n\t\t\t\t\t\t\t\t\t.connectDevice.uuid, that.characteristicId_3)\r\n\t\t\t\t\t\t\t}, 100)\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t},\r\n\t\t\t\t\tfail: function(res) {\r\n\t\t\t\t\t\twx.showToast({\r\n\t\t\t\t\t\t\ttitle: '发送失败',\r\n\t\t\t\t\t\t\ticon: \"none\",\r\n\t\t\t\t\t\t\tduration: 1000\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t},\r\n\t\t\t\t\tcomplete: function() {\r\n\t\t\t\t\t\t// console.log(\"调用结束\");\r\n\t\t\t\t\t}\r\n\t\t\t\t})\r\n\t\t\t},\r\n\t\t\t//配置参数--Modem\r\n\t\t\tsetValueModem() {\r\n\t\t\t\tvar buffer = new ArrayBuffer(8);\r\n\t\t\t\tlet dataView = new DataView(buffer)\r\n\r\n\t\t\t\tlet arr = [0x07, 0x00, 0x05, 0x00,\r\n\t\t\t\t\tthis.flow, this.DTR, this.RTS\r\n\t\t\t\t]\r\n\r\n\t\t\t\tvar sum = 0\r\n\t\t\t\tfor (var i = 3; i < 7; i++) {\r\n\t\t\t\t\tvar s = (arr[i] & 0xff)\r\n\t\t\t\t\tsum += (arr[i] & 0xff)\r\n\r\n\t\t\t\t}\r\n\t\t\t\tarr.push(sum)\r\n\r\n\t\t\t\tfor (var i = 0; i < 8; i++) {\r\n\t\t\t\t\tdataView.setUint8(i, arr[i])\r\n\t\t\t\t}\r\n\r\n\t\t\t\tsetTimeout(() => {\r\n\t\t\t\t\tthis.handleSendvalue(buffer, 2, this.connectDeviceId, this.connectDevice.uuid, this\r\n\t\t\t\t\t\t.characteristicId_3)\r\n\t\t\t\t}, 1000)\r\n\r\n\t\t\t},\r\n\t\t\t// 设置波特率\r\n\t\t\tsetValue() {\r\n\t\t\t\tvar that = this\r\n\r\n\t\t\t\tvar buffer = new ArrayBuffer(12);\r\n\t\t\t\tlet dataView = new DataView(buffer)\r\n\r\n\t\t\t\tlet arr = [0x06, 0x00, 0x09, 0x00, that.currentBTL2 & 0xff, (that.currentBTL2 & 0x0000ff00) >> 8,\r\n\t\t\t\t\t(that.currentBTL2 & 0x00ff0000) >> 16, (that.currentBTL2 & 0xff000000) >> 24, that.currentSJW2,\r\n\t\t\t\t\tthat.currentTZW2, that.currentJYW2\r\n\t\t\t\t]\r\n\r\n\t\t\t\tvar sum = 0\r\n\t\t\t\tvar str = null\r\n\t\t\t\tfor (var i = 3; i < 11; i++) {\r\n\t\t\t\t\tvar s = (arr[i] & 0xff)\r\n\t\t\t\t\tsum += (arr[i] & 0xff)\r\n\r\n\t\t\t\t}\r\n\t\t\t\tarr.push(sum)\r\n\r\n\t\t\t\tfor (var i = 0; i < 12; i++) {\r\n\t\t\t\t\tdataView.setUint8(i, arr[i])\r\n\t\t\t\t}\r\n\r\n\t\t\t\tsetTimeout(() => {\r\n\t\t\t\t\tthat.handleSendvalue(buffer, 1, that.connectDevice, that.connectDeviceId.uuid, that\r\n\t\t\t\t\t\t.characteristicId_3)\r\n\t\t\t\t}, 1000)\r\n\r\n\r\n\t\t\t},\r\n\t\t\tCRC16(data) {\r\n\t\t\t\tvar len = data.Length;\r\n\t\t\t\treturn (this.CRC16(data, len));\r\n\t\t\t},\r\n\t\t\tCRC16(data, dataLength) {\r\n\t\t\t\tvar len = dataLength\r\n\t\t\t\tif (len > 0) {\r\n\t\t\t\t\tvar crc = 0\r\n\t\t\t\t\tfor (var i = 0; i < dataLength; i++) {\r\n\t\t\t\t\t\tcrc = this.UpdateCRC16(crc, data[i]);\r\n\t\t\t\t\t}\r\n\t\t\t\t\tcrc = this.UpdateCRC16(crc, 0);\r\n\t\t\t\t\tcrc = this.UpdateCRC16(crc, 0);\r\n\r\n\t\t\t\t\tvar hi = (crc & 0xFF00) >> 8 //高位置\r\n\t\t\t\t\tvar lo = crc & 0x00FF //低位置\r\n\r\n\t\t\t\t\treturn new Uint8Array([hi, lo])\r\n\t\t\t\t}\r\n\t\t\t\treturn new Uint8Array([0, 0])\r\n\t\t\t},\r\n\t\t\tUpdateCRC16(crcIn, bytee) {\r\n\t\t\t\tvar crc = crcIn;\r\n\t\t\t\tvar ins = bytee | 0x100;\r\n\r\n\t\t\t\tdo {\r\n\t\t\t\t\tcrc <<= 1;\r\n\t\t\t\t\tins <<= 1;\r\n\t\t\t\t\tif ((ins & 0x100) == 0x100) {\r\n\t\t\t\t\t\t++crc;\r\n\t\t\t\t\t}\r\n\t\t\t\t\tif ((crc & 0x10000) == 0x10000) {\r\n\t\t\t\t\t\tcrc ^= 0x1021;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\twhile (!((ins & 0x10000) == 0x10000));\r\n\t\t\t\treturn crc;\r\n\t\t\t},\r\n\t\t\t//监听蓝牙低功耗设备的特征值变化事件\r\n\t\t\tonBLECharacteristicValueChange() {\r\n\t\t\t\tvar that = this\r\n\t\t\t\tuni.onBLECharacteristicValueChange(function(characteristic) {\r\n\t\t\t\t\tconsole.log('特征值变化', characteristic)\r\n\r\n\t\t\t\t\tif (characteristic.characteristicId.indexOf('0000FFF3') >= 0) {\r\n\t\t\t\t\t\tconst length = (that.ab2hex(characteristic.value)).length\r\n\t\t\t\t\t\tconst value = that.ab2hex(characteristic.value)\r\n\r\n\t\t\t\t\t\tif (value.slice(0, 2) == \"88\" && (length / 2) == 7) { //状态\r\n\r\n\t\t\t\t\t\t\tconst part = that.hexToBin(value.substr(8, 2))\r\n\t\t\t\t\t\t\tconst sixPart = that.hexToBin(value.substr(10, 2))\r\n\r\n\t\t\t\t\t\t\tvar writeFlag = part & 0x04 ? false : true\r\n\r\n\t\t\t\t\t\t\tconsole.log('监听特征值变化FFF3', part, sixPart, writeFlag)\r\n\r\n\t\t\t\t\t\t\tif (part.substr(6, 1) == 1) { //modem状态有效，更新\r\n\t\t\t\t\t\t\t\tvar t = parseInt(sixPart, 2)\r\n\t\t\t\t\t\t\t\tvar flag1 = t & 0x80 ? t & 0x80 : 0\r\n\t\t\t\t\t\t\t\tvar flag2 = t & 0x40 ? t & 0x40 : 0\r\n\t\t\t\t\t\t\t\tvar flag3 = t & 0x20 ? t & 0x20 : 0\r\n\t\t\t\t\t\t\t\tvar flag4 = t & 0x10 ? t & 0x10 : 0\r\n\r\n\t\t\t\t\t\t\t\tconsole.log('监听特征值变化FFF3', flag1, flag2, flag3, flag4)\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t} else if (value.slice(0, 2) == \"87\" && (length / 2) == 8) { //flow\r\n\r\n\t\t\t\t\t\t\tvar flag = parseInt(value.substr(8, 2), 16)\r\n\t\t\t\t\t\t\tvar flow = flag ? '开' : '关'\r\n\r\n\t\t\t\t\t\t\tconsole.log('监听特征值变化FFF3', flag, flow)\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tif (characteristic.characteristicId.indexOf('0000FFF1') >= 0) {\r\n\t\t\t\t\t\tvar hex = that.ab2hex(characteristic.value)\r\n\t\t\t\t\t\tconsole.log('监听特征值变化FFF1(16进制)', hex)\r\n\r\n\t\t\t\t\t\tconsole.log(buletoothCommand.analysis_0x05(characteristic.value))\r\n\t\t\t\t\t\t//var ab2 = that.hexToBin(hex)\r\n\t\t\t\t\t\t//console.log('监听特征值变化FFF1(16进制转2进制)', ab2)\r\n\r\n\t\t\t\t\t\t//获取投币机和内胆ID\r\n\t\t\t\t\t\t// var shellId = hex.substring(8, 8 + 8)\r\n\t\t\t\t\t\t// var boxId = hex.substring(16, 16 + 8)\r\n\t\t\t\t\t\t// var shellIdStr = HexToDecStr(shellId)\r\n\t\t\t\t\t\t// var boxIdStr = HexToDecStr(boxId)\r\n\t\t\t\t\t\t//var str = that.hexToString(hex)\r\n\r\n\t\t\t\t\t\t//查设备信息\r\n\t\t\t\t\t\t// var arr = hex.substring(8, hex.length - 6).split('00')\r\n\t\t\t\t\t\t// console.log('拆分数组', arr)\r\n\t\t\t\t\t\t// if(arr.length > 0){\r\n\t\t\t\t\t\t// \t//设备名称\r\n\t\t\t\t\t\t// \tvar deviceName = that.hexToString(arr[0])\r\n\t\t\t\t\t\t// \t//硬件版本\r\n\t\t\t\t\t\t// \tvar vwVersion = that.hexToString(arr[1])\r\n\t\t\t\t\t\t// \t//软件版本\r\n\t\t\t\t\t\t// \tvar swVersion = that.hexToString(arr[2])\r\n\t\t\t\t\t\t// \t//生成日期\r\n\t\t\t\t\t\t// \tvar buildDate = that.hexToString(arr[3])\r\n\t\t\t\t\t\t// }\r\n\r\n\t\t\t\t\t\tvar str = that.hexToString(hex)\r\n\t\t\t\t\t\tconsole.log('监听特征值变化FFF1(16进制转字符串)', str)\r\n\t\t\t\t\t}\r\n\t\t\t\t\t// console.log('read回调方法', characteristic)\r\n\r\n\t\t\t\t\t// const dataView = new Uint8Array(characteristic.value)\r\n\t\t\t\t\t// console.log('接收到的数据（解析为二进制数据-分字段显示）:', dataView)\r\n\r\n\t\t\t\t\t// // 将每个字节转换为十六进制字符串，并连接它们  \r\n\t\t\t\t\t// const hexString = Array.from(dataView).map(byte => byte.toString(16).padStart(2,\r\n\t\t\t\t\t// \t'0')).join(\r\n\t\t\t\t\t// \t'');\r\n\t\t\t\t\t// console.log('接收到的数据（解析为十六进制数据）:', hexString)\r\n\r\n\t\t\t\t\t// const dataString = String.fromCharCode.apply(null, dataView)\r\n\t\t\t\t\t// console.log('接收到的数据（解析为二进制数据）:', dataString)\r\n\t\t\t\t})\r\n\t\t\t},\r\n\t\t\t//获取蓝牙适配器状态\r\n\t\t\tgetBluetoothAdapterState() {\r\n\t\t\t\tthis.text += '获取蓝牙适配器状态' + '\\n'\r\n\t\t\t\tuni.getBluetoothAdapterState({\r\n\t\t\t\t\tsuccess: (res) => {\r\n\t\t\t\t\t\tthis.text += JSON.stringify(res) + '\\n'\r\n\t\t\t\t\t},\r\n\t\t\t\t\tfail: (res) => {\r\n\t\t\t\t\t\tthis.text += JSON.stringify(res) + '\\n'\r\n\t\t\t\t\t}\r\n\t\t\t\t})\r\n\t\t\t},\r\n\t\t\t// 将字符串转换成ArrayBufer\r\n\t\t\tstring2buffer(str) {\r\n\t\t\t\tlet val = \"\"\r\n\t\t\t\tif (!str) return;\r\n\t\t\t\tlet length = str.length;\r\n\t\t\t\tlet index = 0;\r\n\t\t\t\tlet array = []\r\n\t\t\t\twhile (index < length) {\r\n\t\t\t\t\tarray.push(str.substring(index, index + 2));\r\n\t\t\t\t\tindex = index + 2;\r\n\t\t\t\t}\r\n\t\t\t\tval = array.join(\",\");\r\n\t\t\t\t// 将16进制转化为ArrayBuffer\r\n\t\t\t\treturn new Uint8Array(val.match(/[\\da-f]{2}/gi).map(function(h) {\r\n\t\t\t\t\treturn parseInt(h, 16)\r\n\t\t\t\t})).buffer\r\n\t\t\t},\r\n\t\t\t//ArrayBuffer转字符串\r\n\t\t\tab2str(arrayBuffer) {\r\n\t\t\t\tlet unit8Arr = new Uint8Array(arrayBuffer)\r\n\t\t\t\tlet encodedString = String.fromCharCode.apply(null, unit8Arr)\r\n\t\t\t\treturn encodedString\r\n\t\t\t},\r\n\t\t\t//ArrayBuffer转16进度字符串\r\n\t\t\tab2hex(buffer) {\r\n\t\t\t\tvar hexArr = Array.prototype.map.call(\r\n\t\t\t\t\tnew Uint8Array(buffer),\r\n\t\t\t\t\tfunction(bit) {\r\n\t\t\t\t\t\treturn ('00' + bit.toString(16)).slice(-2)\r\n\t\t\t\t\t}\r\n\t\t\t\t)\r\n\t\t\t\treturn hexArr.join('');\r\n\t\t\t},\r\n\t\t\thexToBin(str) {\r\n\t\t\t\tlet hex_array = [{\r\n\t\t\t\t\t\tkey: 0,\r\n\t\t\t\t\t\tval: \"0000\"\r\n\t\t\t\t\t}, {\r\n\t\t\t\t\t\tkey: 1,\r\n\t\t\t\t\t\tval: \"0001\"\r\n\t\t\t\t\t}, {\r\n\t\t\t\t\t\tkey: 2,\r\n\t\t\t\t\t\tval: \"0010\"\r\n\t\t\t\t\t}, {\r\n\t\t\t\t\t\tkey: 3,\r\n\t\t\t\t\t\tval: \"0011\"\r\n\t\t\t\t\t}, {\r\n\t\t\t\t\t\tkey: 4,\r\n\t\t\t\t\t\tval: \"0100\"\r\n\t\t\t\t\t}, {\r\n\t\t\t\t\t\tkey: 5,\r\n\t\t\t\t\t\tval: \"0101\"\r\n\t\t\t\t\t}, {\r\n\t\t\t\t\t\tkey: 6,\r\n\t\t\t\t\t\tval: \"0110\"\r\n\t\t\t\t\t}, {\r\n\t\t\t\t\t\tkey: 7,\r\n\t\t\t\t\t\tval: \"0111\"\r\n\t\t\t\t\t},\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tkey: 8,\r\n\t\t\t\t\t\tval: \"1000\"\r\n\t\t\t\t\t}, {\r\n\t\t\t\t\t\tkey: 9,\r\n\t\t\t\t\t\tval: \"1001\"\r\n\t\t\t\t\t}, {\r\n\t\t\t\t\t\tkey: 'a',\r\n\t\t\t\t\t\tval: \"1010\"\r\n\t\t\t\t\t}, {\r\n\t\t\t\t\t\tkey: 'b',\r\n\t\t\t\t\t\tval: \"1011\"\r\n\t\t\t\t\t}, {\r\n\t\t\t\t\t\tkey: 'c',\r\n\t\t\t\t\t\tval: \"1100\"\r\n\t\t\t\t\t}, {\r\n\t\t\t\t\t\tkey: 'd',\r\n\t\t\t\t\t\tval: \"1101\"\r\n\t\t\t\t\t}, {\r\n\t\t\t\t\t\tkey: 'e',\r\n\t\t\t\t\t\tval: \"1110\"\r\n\t\t\t\t\t}, {\r\n\t\t\t\t\t\tkey: 'f',\r\n\t\t\t\t\t\tval: \"1111\"\r\n\t\t\t\t\t}\r\n\t\t\t\t]\r\n\r\n\t\t\t\tlet value = \"\"\r\n\t\t\t\tfor (let i = 0; i < str.length; i++) {\r\n\t\t\t\t\tfor (let j = 0; j < hex_array.length; j++) {\r\n\t\t\t\t\t\tif (str.charAt(i).toLowerCase() == hex_array[j].key) {\r\n\t\t\t\t\t\t\tvalue = value.concat(hex_array[j].val)\r\n\t\t\t\t\t\t\tbreak\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\t// console.log(value)\r\n\t\t\t\treturn value\r\n\t\t\t},\r\n\t\t\tstringToArrayBuffer(str) {\r\n\t\t\t\tif (!str) {\r\n\t\t\t\t\treturn new ArrayBuffer(0);\r\n\t\t\t\t}\r\n\t\t\t\tvar buffer = new ArrayBuffer(str.length);\r\n\t\t\t\tlet dataView = new DataView(buffer)\r\n\r\n\t\t\t\tlet ind = 0;\r\n\t\t\t\tfor (var i = 0, len = str.length; i < len; i += 1) {\r\n\t\t\t\t\tvar s = str.charCodeAt(i)\r\n\t\t\t\t\tlet code = str.substr(i, 1)\r\n\t\t\t\t\t//  console.log(ind,s,'10进制')\r\n\t\t\t\t\tdataView.setUint8(ind, s)\r\n\t\t\t\t\tind++\r\n\t\t\t\t}\r\n\r\n\t\t\t\tconsole.log(buffer, 'buffer')\r\n\t\t\t\treturn buffer;\r\n\t\t\t},\r\n\t\t\thexToString(hex) {\r\n\r\n\t\t\t\tlet str = '';\r\n\r\n\t\t\t\tfor (let i = 0; i < hex.length; i += 2) {\r\n\r\n\t\t\t\t\tstr += String.fromCharCode(parseInt(hex.substr(i, 2), 16));\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t\treturn str;\r\n\r\n\t\t\t},\r\n\t\t\t// 计算长度\r\n\t\t\tcountValueLength(val, flag) {\r\n\t\t\t\t//  console.log(flag,'flag')\r\n\t\t\t\tif (flag) {\r\n\t\t\t\t\treturn val / 2\r\n\t\t\t\t} else {\r\n\t\t\t\t\treturn val\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n</script>\r\n\r\n<style lang=\"scss\">\r\n\tpage {\r\n\t\theight: 100%;\r\n\t\t// 底部安全距离适配\r\n\t\tpadding-bottom: constant(safe-area-inset-bottom);\r\n\t\tpadding-bottom: env(safe-area-inset-bottom);\r\n\r\n\t\t.content {\r\n\t\t\theight: inherit;\r\n\t\t\tdisplay: flex;\r\n\t\t\tflex-direction: column;\r\n\t\t\tjustify-content: center;\r\n\t\t\tposition: relative;\r\n\r\n\t\t\t.search {\r\n\t\t\t\tposition: absolute;\r\n\t\t\t\ttop: 0rpx;\r\n\t\t\t\twidth: 100%;\r\n\r\n\t\t\t\t.top {\r\n\t\t\t\t\theight: 100rpx;\r\n\t\t\t\t\tdisplay: flex;\r\n\t\t\t\t\tflex-direction: column;\r\n\t\t\t\t\tjustify-content: center;\r\n\t\t\t\t\tmargin-left: 10rpx;\r\n\t\t\t\t\tmargin-bottom: 10rpx;\r\n\r\n\t\t\t\t\tbutton {\r\n\t\t\t\t\t\tdisplay: inline-flex;\r\n\t\t\t\t\t\tposition: absolute;\r\n\t\t\t\t\t\tright: 10rpx;\r\n\t\t\t\t\t\tcolor: white;\r\n\t\t\t\t\t\tbackground-color: darkred;\r\n\t\t\t\t\t\tfont-size: 40rpx;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\t.deviceFound {\r\n\t\t\t\tborder-radius: 175rpx;\r\n\t\t\t\theight: 350rpx;\r\n\t\t\t\twidth: 350rpx;\r\n\t\t\t\tdisplay: flex;\r\n\t\t\t\tflex-direction: column;\r\n\t\t\t\tjustify-content: center;\r\n\t\t\t\tfont-size: 50rpx;\r\n\t\t\t\tcolor: white;\r\n\t\t\t\tbackground-color: #003366;\r\n\t\t\t\ttransition: all 0.4s cubic-bezier(0.18, 0.89, 0.32, 1.28)\r\n\t\t\t}\r\n\r\n\t\t\t.deviceFound.reduce {\r\n\t\t\t\twidth: 320rpx !important;\r\n\t\t\t\theight: 320rpx !important;\r\n\t\t\t}\r\n\r\n\t\t\t.device {\r\n\t\t\t\twidth: 98%;\r\n\t\t\t\theight: 130rpx;\r\n\t\t\t\tborder-bottom: 1px solid black;\r\n\t\t\t\tborder-radius: 10rpx;\r\n\t\t\t\ttext-align: center;\r\n\t\t\t\tdisplay: flex;\r\n\t\t\t\tmargin: 0rpx 1% 10rpx;\r\n\t\t\t\tbackground-color: #dbdbdb;\r\n\t\t\t\tbox-shadow: 2px 2px #b9b9b9;\r\n\r\n\t\t\t\t.name,\r\n\t\t\t\t.rssi {\r\n\t\t\t\t\theight: 100%;\r\n\t\t\t\t\tdisplay: flex;\r\n\t\t\t\t\tflex-direction: column;\r\n\t\t\t\t\tjustify-content: center;\r\n\t\t\t\t}\r\n\r\n\t\t\t\t.name {\r\n\t\t\t\t\twidth: 65%;\r\n\t\t\t\t\tfont-weight: bolder;\r\n\t\t\t\t}\r\n\r\n\t\t\t\t.rssi {\r\n\t\t\t\t\twidth: 35%;\r\n\t\t\t\t\tcolor: #9e9e9e;\r\n\r\n\t\t\t\t\t.rssiImg {\r\n\t\t\t\t\t\tview {\r\n\t\t\t\t\t\t\twidth: 8rpx;\r\n\t\t\t\t\t\t\tbackground-color: #555555;\r\n\t\t\t\t\t\t\tdisplay: inline-block;\r\n\t\t\t\t\t\t\tmargin-right: 5rpx;\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\ttext {\r\n\t\t\t\t\t\t\tmargin-left: 10rpx;\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t.rssi_1 {\r\n\t\t\t\t\t\t\theight: 20rpx;\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t.rssi_2 {\r\n\t\t\t\t\t\t\theight: 25rpx;\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t.rssi_3 {\r\n\t\t\t\t\t\t\theight: 30rpx;\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t.rssi_4 {\r\n\t\t\t\t\t\t\theight: 35rpx;\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t.rssi_5 {\r\n\t\t\t\t\t\t\theight: 40rpx;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n</style>","import mod from \"-!../../../HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../HBuilderX/plugins/uniapp-cli/node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-2!../../../HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-3!../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/sass-loader/dist/cjs.js??ref--8-oneOf-1-4!../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-5!../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./index.vue?vue&type=style&index=0&lang=scss&\"; export default mod; export * from \"-!../../../HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../HBuilderX/plugins/uniapp-cli/node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-2!../../../HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-3!../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/sass-loader/dist/cjs.js??ref--8-oneOf-1-4!../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-5!../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./index.vue?vue&type=style&index=0&lang=scss&\""],"sourceRoot":""}